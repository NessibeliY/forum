{{ template "index" .}}
{{define "header"}}
<header class="header">
    <div class="offset">
        <div class="header_wrapper">
            <a class="logo" href="/">
                <h2>FORUM</h2>
            </a>
                <form class="pagesList" action="/user/posts/" method="GET">
                    <input type="hidden" name="filter" id="filter" value="all">
                    {{if .authenticated_user }}
                    <button class="py-2 px-2 pages {{if eq .CurrentPage "all"}} active{{end}}" id="allPost" type="submit" onclick="document.getElementById('filter').value='all'">All Posts</button>
                    <button class="pages {{if eq .CurrentPage "my"}} active{{end}}" id="myPosts" type="submit" onclick="document.getElementById('filter').value='my'">My Posts</button>
                    <button class="pages {{if eq .CurrentPage "liked"}} active{{end}}" id="likedPosts" type="submit" onclick="document.getElementById('filter').value='liked'">Liked</button>
                    <button class="pages {{if eq .CurrentPage "disliked"}} active{{end}}" id="dislikedPosts" type="submit" onclick="document.getElementById('filter').value='disliked'">DisLiked</button>
                    
                    {{end}}
                </form>
            {{ if .authenticated_user}}
            <div class="flex sign-out">
                <form method="POST" action="/user/logout" class="flex items-center justify-center ml-2">
                    <button class="flex items-center justify-center text-2xl hover:text-red-600  transition duration-300" type="submit">
                        <i class="fa-solid fa-arrow-right-from-bracket"></i>
                    </button>
                </form>
            </div>
            {{else}}
            <div class="auth_bnts">
                <a class="btn_auth bg-indigo-500 hover:bg-indigo-600 duration-300 transition" href="/user/login">
                sign-in
                </a>
                <a class="btn_auth btn_signup bg-blue-500 hover:bg-blue-600 duration-300 transition" href="/user/signup">sign-up</a>
            </div>
            {{end}}     
        </div>
    </div>
    <div class="header_burger" onclick="toggleMenu()">
        <span></span>
    </div>     
    <nav class="mobile_menu">
        {{if .authenticated_user}}
        <div class="flex w-full items-center" style="padding: 10px;">
            <span style="font-weight: 500; font-size: 1.25rem;">{{ .Username}}</span>
        </div>
        {{end}}
        <ul>
            {{ if .authenticated_user }}
                <li><a href="/user/posts?filter=all">All Posts</a></li>
                <li><a href="/user/posts?filter=my">My Posts</a></li>
                <li><a href="/user/posts?filter=liked">Liked</a></li>
                <li><a href="/user/posts?filter=disliked">DisLiked</a></li>
                <li><a href="/create-post">Create Post</a></li>
            {{end}}
            {{if not .authenticated_user}}
            <li><a href="/user/login">Sign In</a></li>
            <li><a href="/user/signup">Sign Up</a></li>
            {{end}}

            {{ if .authenticated_user }}
            <form method="POST" action="/user/logout" class="flex items-center justify-start" style="padding: 10px;">
                <button class="flex items-center justify-center" type="submit">
                   Sign-out
                </button>
            </form>
            {{end}}
        </ul>
    </nav>
</header>
{{end}}